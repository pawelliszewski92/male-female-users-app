(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{215:function(e,t,a){e.exports=a(392)},220:function(e,t,a){},392:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),o=a.n(c),l=(a(220),a(140)),s=a(24),i=a.n(s),u=a(46),d=a(18),p=a(19),m=a(21),h=a(20),g=a(22),b=a(27),f=a(16),v=a(78),y=a.n(v),w=a(30),k=a.n(w),O=a(75),E=a.n(O),S=a(76),C=a.n(S),j=a(45),x=a(5),P=a.n(x),N=a(55),D=a.n(N),B=a(33),M=a.n(B),A=a(29),R=a.n(A),I=a(43),T=a.n(I),W=a(42),U=a(142),z=a.n(U),F=Object(f.withStyles)(function(e){return{root:{paddingRight:e.spacing.unit},primaryBackground:{backgroundColor:e.palette.primary.dark},secondaryBackground:{backgroundColor:e.palette.secondary.dark},labelColor:{color:e.palette.common.white},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(W.lighten)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},bold:{fontWeight:"bold"},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"}}})(function(e){var t=e.numSelected,a=e.selected,n=e.classes,c=e.label,o=e.onDelete,l=e.color;return r.a.createElement(D.a,{className:P()(n.root,Object(j.a)({},n.primaryBackground,"primary"===l),Object(j.a)({},n.secondaryBackground,"secondary"===l),Object(j.a)({},n.highlight,t>0))},r.a.createElement("div",{className:n.title},t>0?r.a.createElement(M.a,{color:"inherit",variant:"subheading"},c," - ",r.a.createElement("span",{className:n.bold},t)," ","selected"):r.a.createElement(M.a,{variant:"title",id:"tableTitle",className:n.labelColor},c)),r.a.createElement("div",{className:n.spacer}),r.a.createElement("div",{className:n.actions},t>0&&r.a.createElement(T.a,{title:"Delete"},r.a.createElement(R.a,{"aria-label":"Delete",onClick:function(){return o(a)}},r.a.createElement(z.a,null)))))}),L=a(72),q=a.n(L),H=a(73),G=a.n(H),J=a(26),V=a.n(J),_=a(34),X=a.n(_),$=a(44),K=a.n($),Q=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).createSortHandler=function(e){return function(t){a.props.onRequestSort(t,e)}},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.onSelectAllClick,n=t.order,c=t.orderBy,o=t.numSelected,l=t.rowCount,s=t.rows,i=t.classes;return r.a.createElement(q.a,null,r.a.createElement(X.a,null,r.a.createElement(V.a,{padding:"checkbox"},r.a.createElement(K.a,{indeterminate:o>0&&o<l,checked:o===l,onChange:a})),s.map(function(t){return r.a.createElement(V.a,{key:t.id,numeric:t.numeric,padding:t.disablePadding?"none":"default",sortDirection:c===t.id&&n,className:i.head},r.a.createElement(T.a,{title:"Sort",placement:t.numeric?"bottom-end":"bottom-start",enterDelay:300},r.a.createElement(G.a,{active:c===t.id,direction:n,onClick:e.createSortHandler(t.id)},t.label)))},this)))}}]),t}(r.a.Component),Y=Object(f.withStyles)(function(e){return{head:{fontSize:e.typography.pxToRem(15),color:e.palette.common.black}}})(Q),Z=a(143),ee=a.n(Z),te=a(74),ae=a.n(te),ne=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).renderCellContent=function(e,t){return t.content?t.content(e):ee.a.get(e,t.id)},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.emptyRows,c=t.rows,o=t.onSelect,l=t.selected;return r.a.createElement(ae.a,null,a.map(function(t){var a=-1!==l.indexOf(t.id);return r.a.createElement(X.a,{hover:!0,onClick:function(e){return o(e,t.id)},role:"checkbox","aria-checked":a,tabIndex:-1,key:t.id,selected:a},r.a.createElement(V.a,{key:t.id+"checkbox",padding:"checkbox"},r.a.createElement(K.a,{checked:a})),c.map(function(a){return r.a.createElement(V.a,{key:t.id+a.id,padding:a.padding},e.renderCellContent(t,a))}))}),n>0&&r.a.createElement(X.a,{style:{height:49*n}},r.a.createElement(V.a,{colSpan:6})))}}]),t}(n.Component),re=function(e){function t(){return Object(d.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onChange,a=e.value,n=e.label,c=e.classes,o=a.toString();return r.a.createElement("div",{className:c.container},r.a.createElement(b.c,{id:"outlined-number",label:n,value:o,onChange:t,type:"number",className:c.textField,InputLabelProps:{shrink:!0},variant:"outlined",InputProps:{className:c.input,inputProps:{min:0}}}))}}]),t}(n.Component),ce=Object(f.withStyles)(function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginBottom:2*e.spacing.unit,marginTop:0,marginLeft:"auto",marginRight:3*e.spacing.unit,width:14*e.spacing.unit,fontSize:e.typography.pxToRem(12)},input:{color:e.palette.text.secondary,fontSize:e.typography.pxToRem(13),paddingLeft:4.5*e.spacing.unit}}})(re),oe=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={order:"asc",orderBy:"surname",selected:[],page:0,rowsPerPage:5},a.handleRequestSort=function(e,t){var n=t,r="desc";a.state.orderBy===t&&"desc"===a.state.order&&(r="asc"),a.setState({order:r,orderBy:n})},a.handleSelectAll=function(e){e.target.checked?a.setState({selected:a.props.data.map(function(e){return e.id})}):a.setState({selected:[]})},a.handleSelect=function(e,t){var n=a.state.selected,r=n.indexOf(t),c=[];-1===r?c=c.concat(n,t):0===r?c=c.concat(n.slice(1)):r===n.length-1?c=c.concat(n.slice(0,-1)):r>0&&(c=c.concat(n.slice(0,r),n.slice(r+1))),a.setState({selected:c})},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){var t=parseInt(e.target.value);isNaN(t)&&(t=0),a.setState({rowsPerPage:t})},a.handleDelete=function(e){a.setState({selected:[]}),a.props.onDelete(e)},a.getStableSort=function(e,t){var a=e.map(function(e,t){return[e,t]});return a.sort(function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]}),a.map(function(e){return e[0]})},a.getSorting=function(e,t){return"desc"===e?function(e,n){return a.getDesc(e,n,t)}:function(e,n){return-a.getDesc(e,n,t)}},a.getDesc=function(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.classes,n=e.tableLabel,c=e.rows,o=e.color,l=this.state,s=l.order,i=l.orderBy,u=l.selected,d=l.rowsPerPage,p=l.page,m=d-Math.min(d,t.length-p*d),h=this.getStableSort(t,this.getSorting(s,i)).slice(p*d,p*d+d);return r.a.createElement(k.a,{className:a.root},r.a.createElement(F,{label:n,numSelected:u.length,selected:u,onDelete:this.handleDelete,color:o}),r.a.createElement("div",{className:a.tableWrapper},r.a.createElement(E.a,{className:a.table,"aria-labelledby":"tableTitle"},r.a.createElement(Y,{rows:c,numSelected:u.length,order:s,orderBy:i,onSelectAllClick:this.handleSelectAll,onRequestSort:this.handleRequestSort,rowCount:t.length}),r.a.createElement(ne,{data:h,emptyRows:m,rows:c,selected:u,onSelect:this.handleSelect}))),r.a.createElement(C.a,{component:"div",count:t.length,rowsPerPage:d,rowsPerPageOptions:[],page:p,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage}),r.a.createElement(ce,{label:"Users per page",value:d,onChange:this.handleChangeRowsPerPage}))}}]),t}(r.a.Component),le=Object(f.withStyles)(function(e){return{root:{width:"100%",margin:"auto",marginTop:3*e.spacing.unit},tableWrapper:{overflowX:"auto"}}})(oe),se=a(77),ie=a.n(se),ue=a(153),de=a(144),pe=a.n(de),me=a(146),he=a.n(me),ge=a(147),be=a.n(ge),fe=a(150),ve=a.n(fe),ye=a(148),we=a.n(ye),ke=a(149),Oe=a.n(ke),Ee=a(56),Se=a.n(Ee),Ce=a(145),je=a.n(Ce),xe={success:pe.a,warning:je.a,error:he.a,info:be.a};var Pe=Object(f.withStyles)(function(e){return{success:{backgroundColor:we.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:Oe.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex",alignItems:"center"}}})(function(e){var t=e.classes,a=e.className,n=e.message,c=e.onClose,o=e.variant,l=Object(ue.a)(e,["classes","className","message","onClose","variant"]),s=xe[o];return r.a.createElement(Se.a,Object.assign({className:P()(t[o],a),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(s,{className:P()(t.icon,t.iconVariant)}),n),action:[r.a.createElement(R.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:c},r.a.createElement(ve.a,{className:t.icon}))]},l))}),Ne=function(e){e.classes;var t=e.open,a=e.message,n=e.variant,c=e.onClose;return r.a.createElement(ie.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:t,autoHideDuration:8e3,onClose:c},r.a.createElement(Pe,{variant:n,message:a,onClose:c}))},De=a(151),Be=function(e){function t(){return Object(d.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.classes,n=e.theme,c={title:"",pieHole:.6,slices:[{color:n.palette.secondary.dark},{color:n.palette.primary.dark}],legend:{position:"bottom",alignment:"center",textStyle:{color:"233238",fontSize:14}},tooltip:{showColorCode:!0},chartArea:{left:0,top:"2%",width:"100%",height:"80%"}};return r.a.createElement(k.a,null,r.a.createElement(De.a,{chartType:"PieChart",data:t,options:c,graph_id:"PieChart",width:"100%",height:"400px",legend_toggle:!0,className:a.chart}))}}]),t}(r.a.Component),Me=Object(f.withStyles)(function(e){return{chart:{paddingTop:e.spacing.unit}}},{withTheme:!0})(Be),Ae=a(57),Re=a.n(Ae),Ie={get:Re.a.get,post:Re.a.post,put:Re.a.put,delete:Re.a.delete},Te="http://localhost:3000";function We(e){return Ie.get(Te+"/".concat(e,".png"))}function Ue(e){return Te+"/".concat(e,".png")}function ze(e){return Ie.delete(Te+"/users/".concat(e))}var Fe=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(c)))).state={users:[],men:[],women:[],errorMessageOpen:!1,errorMessage:"",chartData:[],rows:[{id:"name",label:"Name",numeric:!1,disablePadding:!0,padding:"none"},{id:"surname",label:"Surname",numeric:!1,disablePadding:!0,padding:"none"},{id:"dateOfBirth",label:"Date of birth",numeric:!1,disablePadding:!0,padding:"none"},{id:"avatar",label:"Avatar",content:function(e){return r.a.createElement(y.a,{src:e.avatar})},numeric:!1,disablePadding:!0,padding:"none"}]},a.handleDelete=function(){var e=Object(u.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.users.filter(function(e){return!t.includes(e.id)}),a.setState({users:n}),a.getMaleAndFemaleUsers(n),e.prev=3,e.next=6,Promise.all(t.map(function(){var e=Object(u.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),e.t0.response&&404===e.t0.response.status&&a.setState({errorMessageOpen:!0,errorMessage:"This content has already been deleted"});case 11:case"end":return e.stop()}},e,this,[[3,8]])}));return function(t){return e.apply(this,arguments)}}(),a.handleErrorClose=function(){a.setState({errorMessageOpen:!1,errorMessage:""})},a.getMaleAndFemaleUsers=function(e){var t=a.getUsersOfGender(e,[0,2,4,6,8]),n=a.getUsersOfGender(e,[1,3,5,7,9]),r=a.getChartData(n,t);a.setState({men:n,women:t,chartData:r})},a}var a,n;return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:(n=Object(u.a)(i.a.mark(function e(){var t,a,n,r,c=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.get(Te+"/users");case 2:return t=e.sent,a=t.data,n=a.map(function(){var e=Object(u.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l.a,e.t1=c.getDateOfBirth(t.pesel),e.next=4,c.getAvatar(t.id);case 4:return e.t2=e.sent,e.t3={dateOfBirth:e.t1,avatar:e.t2},e.t4=t,e.abrupt("return",(0,e.t0)(e.t3,e.t4));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),e.next=7,Promise.all(n);case 7:r=e.sent,this.setState({users:r}),this.getMaleAndFemaleUsers(r);case 10:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"getDateOfBirth",value:function(e){var t=e.split("").map(function(e){return parseInt(e)}),a=1900+10*t[0]+t[1];t[2]>=2&&t[2]<8&&(a+=100*Math.floor(t[2]/2)),t[2]>=8&&(a-=100);var n=t[2]%2*10+t[3];n<10&&(n="0".concat(n));var r=10*t[4]+t[5];return r<10&&(r="0".concat(r)),"".concat(r,".").concat(n,".").concat(a)}},{key:"getAvatar",value:(a=Object(u.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,We(t);case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",null);case 8:return e.abrupt("return",Ue(t));case 9:case"end":return e.stop()}},e,this,[[0,5]])})),function(e){return a.apply(this,arguments)})},{key:"getUsersOfGender",value:function(e,t){var a=[];return e.map(function(e){return t.includes(parseInt(e.pesel.split("")[9]))&&a.push(e)}),a}},{key:"getChartData",value:function(e,t){return[["Women","Men"],["Women",t.length],["Men",e.length]]}},{key:"render",value:function(){var e=this.state,t=e.errorMessage,a=e.errorMessageOpen,n=e.chartData,c=e.rows,o=e.men,l=e.women,s=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,null),r.a.createElement(Ne,{variant:"error",message:t,open:a,onClose:this.handleErrorClose}),r.a.createElement(b.b,{container:!0,spacing:0,direction:"row",alignItems:"flex-start",justify:"space-evenly",className:s.root},r.a.createElement(b.b,{item:!0,md:8},r.a.createElement(Me,{data:n})),r.a.createElement(b.b,{item:!0,sm:12,md:5},r.a.createElement(le,{tableLabel:"WOMEN",rows:c,data:l,onDelete:this.handleDelete,color:"secondary"})),r.a.createElement(b.b,{item:!0,sm:12,md:5},r.a.createElement(le,{tableLabel:"MEN",rows:c,data:o,onDelete:this.handleDelete,color:"primary"}))))}}]),t}(n.Component),Le=Object(f.withStyles)(function(e){return{root:{padding:2*e.spacing.unit}}})(Fe);a(390),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[215,2,1]]]);
//# sourceMappingURL=main.e609b505.chunk.js.map